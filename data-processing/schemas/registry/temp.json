{
    "schema":  "{\"type\":\"record\",\"name\":\"TrafficReadingEvent\",\"namespace\":\"com.cityflow.events.traffic\",\"doc\":\"Real-time traffic sensor reading event with congestion and vehicle count metrics\",\"fields\":[{\"name\":\"eventId\",\"type\":\"string\",\"doc\":\"Unique event identifier (UUID v4)\"},{\"name\":\"eventType\",\"type\":\"string\",\"default\":\"TRAFFIC_READING\",\"doc\":\"Event type identifier\"},{\"name\":\"timestamp\",\"type\":{\"type\":\"long\",\"logicalType\":\"timestamp-millis\"},\"doc\":\"Event generation timestamp in epoch milliseconds\"},{\"name\":\"sensorId\",\"type\":\"string\",\"doc\":\"Unique sensor identifier (MongoDB ObjectId)\"},{\"name\":\"sensorCode\",\"type\":\"string\",\"doc\":\"Human-readable sensor code (e.g., SENSOR-001)\"},{\"name\":\"roadSegmentId\",\"type\":\"string\",\"doc\":\"Road segment identifier where sensor is located\"},{\"name\":\"location\",\"type\":{\"type\":\"record\",\"name\":\"GeoLocation\",\"fields\":[{\"name\":\"latitude\",\"type\":\"double\",\"doc\":\"Latitude in decimal degrees\"},{\"name\":\"longitude\",\"type\":\"double\",\"doc\":\"Longitude in decimal degrees\"}]},\"doc\":\"Geographic coordinates of the sensor\"},{\"name\":\"averageSpeed\",\"type\":[\"null\",\"double\"],\"default\":null,\"doc\":\"Average vehicle speed in km/h\"},{\"name\":\"vehicleCount\",\"type\":[\"null\",\"int\"],\"default\":null,\"doc\":\"Number of vehicles detected in the measurement period\"},{\"name\":\"occupancy\",\"type\":[\"null\",\"double\"],\"default\":null,\"doc\":\"Road occupancy percentage (0.0 to 1.0)\"},{\"name\":\"congestionLevel\",\"type\":{\"type\":\"enum\",\"name\":\"CongestionLevel\",\"symbols\":[\"FREE_FLOW\",\"LIGHT\",\"MODERATE\",\"HEAVY\",\"SEVERE\"]},\"doc\":\"Calculated congestion level\"},{\"name\":\"queueLength\",\"type\":[\"null\",\"int\"],\"default\":null,\"doc\":\"Estimated queue length in number of vehicles\"},{\"name\":\"temperature\",\"type\":[\"null\",\"double\"],\"default\":null,\"doc\":\"Ambient temperature in Celsius\"},{\"name\":\"weatherCondition\",\"type\":[\"null\",{\"type\":\"enum\",\"name\":\"WeatherCondition\",\"symbols\":[\"CLEAR\",\"CLOUDY\",\"RAINY\",\"SNOWY\",\"FOGGY\",\"STORM\"]}],\"default\":null,\"doc\":\"Current weather condition at sensor location\"},{\"name\":\"incidentDetected\",\"type\":\"boolean\",\"default\":false,\"doc\":\"Flag indicating if sensor detected an incident\"},{\"name\":\"metadata\",\"type\":[\"null\",{\"type\":\"map\",\"values\":\"string\"}],\"default\":null,\"doc\":\"Additional metadata key-value pairs\"}]}"
}
